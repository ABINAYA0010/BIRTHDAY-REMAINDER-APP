(this["webpackJsonpbirthday-reminder"]=this["webpackJsonpbirthday-reminder"]||[]).push([[0],{146:function(e,a,t){"use strict";t.r(a);var n=t(2),l=t.n(n),s=t(23),r=t.n(s),m=(t(72),t(64)),c=t.n(m),o=(t(73),t(10)),i=t.n(o),d=t(27);t(75);var u=e=>{let{name:a,day:t,month:n,countdownData:s}=e;const r=new Date;return r.getDate()===parseInt(t)&&r.getMonth()===parseInt(n)-1?l.a.createElement("div",{className:"wish"},l.a.createElement("p",null,"It's time to celebrate ",l.a.createElement("span",{className:"name"},a),"'s birthday."),l.a.createElement("p",null,l.a.createElement("strong",null,"Wish ",l.a.createElement("span",{className:"name"},a)))):l.a.createElement("div",null,l.a.createElement("div",{className:"countdown-wrapper"},l.a.createElement("div",{className:"countdown-box"},s.days,l.a.createElement("span",{className:"legend"},"Days")),l.a.createElement("div",{className:"countdown-box"},s.hours,l.a.createElement("span",{className:"legend"},"Hrs")),l.a.createElement("div",{className:"countdown-box"},s.minutes,l.a.createElement("span",{className:"legend"},"Mins")),l.a.createElement("div",{className:"countdown-box"},s.seconds,l.a.createElement("span",{className:"legend"},"Sec"))))};var g=e=>{let{name:a,age:t,day:s,month:r}=e;const[m,c]=Object(n.useState)({seconds:0,hours:0,minutes:0,days:0,isItBday:!1}),o=new Date,i=o.getFullYear(),d=o.getDate()===s&&o.getMonth()===r-1;return Object(n.useEffect)(()=>{const e=setInterval(()=>{d?c(e=>({...e,isItBday:!0})):(()=>{const e=new Date;let a=new Date(i,r-1,s);e>a?a=new Date(i+1,r-1,s):e.getFullYear()===a.getFullYear()+1&&(a=new Date(i,r-1,s));const t=e.getTime(),n=a.getTime()-t;let l=Math.floor(n/1e3),m=Math.floor(l/60),o=Math.floor(m/60),u=Math.floor(o/24);l%=60,m%=60,o%=24,c(e=>({...e,seconds:l,minutes:m,hours:o,days:u,isItBday:d}))})()},1e3);return()=>clearInterval(e)},[i,s,d,r]),l.a.createElement("div",null,l.a.createElement(u,{name:a,day:s,month:r,countdownData:m}))};var p=e=>{let{people:a,removePerson:t,editPerson:n,today:s,setAmount:r}=e,m=a.filter(e=>{const a=new Date;return a.getDate()===parseInt(i()(e.date).format("D"))&&a.getMonth()===parseInt(i()(e.date).format("M"))-1});r(m.length);const c=!0===s?m:a;return l.a.createElement(l.a.Fragment,null,!0===s&&0===c.length?l.a.createElement("div",{className:"no-birthday-today"},"No birthdays today"):c.map(e=>{const{id:a,name:s,age:r,date:m,image:c}=e;return l.a.createElement("article",{key:a,className:"person"},l.a.createElement("img",{src:c,alt:s,onError:e=>e.target.src=`https://avatars.dicebear.com/api/initials/${s}.svg`}),l.a.createElement("div",{className:"person-info"},l.a.createElement("h4",null,s),l.a.createElement("p",null,i()(m).format("MMM Do YYYY")),l.a.createElement("p",null,r),l.a.createElement(g,{name:s,age:r,day:i()(m).format("D"),month:i()(m).format("M")})),l.a.createElement("div",{className:"btns","aria-label":"Edit"},l.a.createElement("button",{className:"btn",onClick:()=>n(a)},l.a.createElement("a",{href:"#edit"},l.a.createElement(d.b,{size:"20"}))),l.a.createElement("button",{className:"btn","aria-label":"Delete"},l.a.createElement(d.c,{size:"20",onClick:()=>t(a)}))))}))};function E(e){let{type:a,msg:t,removeAlert:s,people:r}=e;return Object(n.useEffect)(()=>{const e=setTimeout(()=>{s()},3e3);return()=>clearTimeout(e)},[r,s]),l.a.createElement("p",{className:"alert alert-"+a},t)}function h(){const[e,a]=Object(n.useState)({image:"",name:"",age:"",date:null}),[t,s]=Object(n.useState)(""),[r,m]=Object(n.useState)(!1),[o,u]=Object(n.useState)(0),[g,h]=Object(n.useState)(localStorage.getItem("people")?JSON.parse(localStorage.getItem("people")):[]),[b,y]=Object(n.useState)(!1),[v,N]=Object(n.useState)(null),[f,w]=Object(n.useState)({show:!1,msg:"",type:""}),D=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";w({show:e,type:a,msg:t})},M=e=>{var a=i()(new Date(e),"DD-MM-YYYY HH:mm:ss"),t=i()(new Date,"DD-MM-YYYY HH:mm:ss");return i.a.duration(a.diff(t)).humanize()};return Object(n.useEffect)(()=>{localStorage.setItem("people",JSON.stringify(g))},[g]),l.a.createElement("main",{className:"app"},l.a.createElement("div",{className:"reminder"},l.a.createElement("section",{id:"edit",className:"container"},l.a.createElement("h3",{className:"title"},"birthday reminder"),f.show&&l.a.createElement(E,Object.assign({},f,{removeAlert:D,people:g})),l.a.createElement("form",{onSubmit:t=>{if(t.preventDefault(),e.date&&(e.age=M(e.date)),e.name&&e.image&&e.age)if(e.name&&e.image&&e.date&&b)h(g.map(a=>a.id===v?{...a,name:e.name,image:e.image,date:e.date,age:M(e.date)}:a)),a({image:"",name:"",age:"",date:null}),s(""),N(null),y(!1),D(!0,"success","details changed");else{D(!0,"success","person added to list");const n={id:(new Date).getTime().toString(),image:e.image,name:e.name,age:e.age,date:e.date};h([...g,n]),t.target.reset(),a({image:"",name:"",age:"",date:null}),s("")}else D(!0,"danger","please enter details")}},l.a.createElement("div",{className:"form-control"},l.a.createElement("input",{className:"list",name:"name",type:"text",placeholder:"name",value:e.name,onChange:t=>{const n=t.target.name,l=t.target.value;a({...e,[n]:l})}}),l.a.createElement(c.a,{className:"list",placeholderText:"dob - mm/dd/yyyy",selected:e.date?new Date(e.date):null,onChange:t=>a({...e,date:t}),maxDate:new Date,dateFormat:"MM/dd/yyyy",orientation:"bottom",isClearable:!0,showMonthDropdown:!0,showYearDropdown:!0,scrollableMonthYearDropdown:!0}),l.a.createElement("input",{type:"file",accept:"image/*",className:"list",onChange:t=>{const n=t.target.files[0];if(n){const t=new FileReader;t.onloadend=()=>{s(t.result),a({...e,image:t.result})},t.readAsDataURL(n)}else s(""),a({...e,image:""})}}),t&&l.a.createElement("img",{src:t,alt:"Preview",className:"image-preview"}),l.a.createElement("button",{className:"add-btn",type:"submit"},b?"update":"add"))))),g.length>0&&l.a.createElement("div",{className:"birthdays"},l.a.createElement("div",{className:"birthday-list"},l.a.createElement("h3",null,g.length," ",g.length>1?"birthdays":"birthday"," in the list"),l.a.createElement("button",{className:"today-"+r,onClick:()=>m(!r)},l.a.createElement(d.a,{size:"20"}),l.a.createElement("div",{className:"today-count"},l.a.createElement("p",{className:"total-count"},o))),l.a.createElement(p,{people:g,removePerson:e=>{D(!0,"danger","person removed"),h(g.filter(a=>a.id!==e))},editPerson:e=>{const t=g.find(a=>a.id===e);y(!0),N(e),a({image:t.image,name:t.name,date:t.date}),s(t.image)},today:r,setAmount:u}),l.a.createElement("button",{className:"clear-btn",onClick:()=>{D(!0,"danger","everything cleared"),h([])}},"clear all"))))}const b=document.getElementById("root");r.a.render(l.a.createElement(n.StrictMode,null,l.a.createElement(h,null)),b)},67:function(e,a,t){e.exports=t(146)},72:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.71ef7c11.chunk.js.map